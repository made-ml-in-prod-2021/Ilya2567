![CI workflow](https://github.com/made-ml-in-prod-2021/Ilya2567/actions/workflows/hw1.yaml/badge.svg?branch=homework1)
# ML in prod: Homework 1

## Data

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/made-ml-in-prod-2021/Ilya2567.git
   git checkout homework1
   ```

2. Перейдите в папку `ml_project`:
   ```bash
   cd Ilya2567/ml_project
   ```
   
3. Создайте новое рабочее окружение:
    
   - Installation (for Linux):
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```
   - Installation (for Windows):  
   ```bash
   python -m venv .venv
   .venv\Scripts\activate.bat
   pip install -r requirements.txt
   ```

4. Скачайте [датасет](https://www.kaggle.com/ronitf/heart-disease-uci) и распакуйте его в каталог `data/raw`:
   ```bash
   mkdir -p data/raw && unzip archive.zip -d data/raw
   ```

5. Выполните feature engineering с помощью одной из представленных команд или задайте свои параметры в новом конфигурационном файле в папке `./configs/features/`:
    ```bash
    python -m src.features.build_features
    python -m src.features.build_features --config-name features/features_param_2.yaml
    python -m src.features.build_features --config-name features/features_param_3.yaml
    ```
    Обработанные данные появятся в `./data/processed`.
   
    Бинарный файл трансформера: `./models/transformer.pkl` (имя файла настраивается в конфигурационном файле).

    Логи будут находиться согласно параметрам по-умолчанию, принятым в гидре: `./outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}/build_features.log`


6. Создайте и обучите модель помощью одной из представленных команд или задайте свои параметры в новом конфигурационном файле в папке `./configs/`:
    ```bash
    python -m src.models.train_model
    python -m src.models.train_model --config-name training_params_2.yaml
    ```
    Бинарный файл модели: `./models/model.pkl` (имя файла настраивается в конфигурационном файле).

    Метрики качества обучения и логи будут находиться согласно параметрам по-умолчанию, принятым в гидре: `./outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}/`

7. Получите предсказание от уже обученной модели:
   ```bash
   python -m src.models.predict_model
   ```
   Файл ответов и логи будут находиться согласно параметрам по-умолчанию, принятым в гидре: `./outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}/`

## Roadmap

 № | Задача | Отметка о выполнении, баллы
 --- | --- | ---
 -2 | Назовите ветку homework1 | [X] 1 балл
 -1 | положите код в папку ml_project | - 
 0 | В описании к пулл реквесту описаны основные "архитектурные" и тактические решения, которые сделаны в вашей работе. | [X] 2 балла
 1 | Выполнение EDA, закоммитьте ноутбук в папку с ноутбуками. | [X] 2 баллов
 2 | Проект имеет модульную структуру(не все в одном файле =) ) | [X] 2 баллов
 3 | использованы логгеры | [X] 2 балла
 4 | написаны тесты на отдельные модули и на прогон всего пайплайна | [ ] 3 баллов
 5 | Для тестов генерируются синтетические данные, приближенные к реальным | [ ] 3 баллов
 6 | Обучение модели конфигурируется с помощью конфигов в json или yaml, закоммитьте как минимум 2 корректные конфигурации, с помощью которых можно обучить модель (разные модели, стратегии split, preprocessing) | [X] 3 балла
 7 | Используются датаклассы для сущностей из конфига, а не голые dict | [X] 3 балла 
 8 | Используйте кастомный трансформер(написанный своими руками) и протестируйте его | [X] 3 балла
 9 | Обучите модель, запишите в readme как это предлагается | [X] 3 балла
 10 | напишите функцию predict, которая примет на вход артефакт/ы от обучения, тестовую выборку(без меток) и запишет предикт, напишите в readme как это сделать | [X] 3 балла  
 11 | Используется hydra  (https://hydra.cc/docs/intro/) | [X] 3 балла
 12 | Настроен CI(прогон тестов, линтера) на основе github actions | [X] 3 балла
 13 | Проведите самооценку, опишите, в какое колво баллов по вашему мнению стоит оценить вашу работу и почему | [X] 1 балл


## Self-assessment

Проект имеет модульную структуру, модель для обучения и трансформеры задаются в конфигурационных файлах и могут быть любыми (установленные в окружении и быть наследниками от `sklearn.base.BaseEstimator`).

Есть инструкция, описывающая работу основного функционала.

Покрытие тестами(pytest): отсустствует

Качество кода проверено flake8.

Настроены проверки на гитхабе при пуллинге проекта.

Работа выполнена на 31 балл, поскольку отсустствует покрытие тестами.
